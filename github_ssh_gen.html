<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Github 本地代码权限配置指南</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.8;
            color: #333;
            font-size: 16px;
        }
        h1, h2, h3 {
            margin-top: 30px;
            margin-bottom: 20px;
        }
        h1 {
            font-size: 32px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        h2 {
            font-size: 28px;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 24px;
        }
        p {
            margin-bottom: 15px;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95em;
        }
        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin-bottom: 15px;
        }
        pre code {
            background: none;
            padding: 0;
        }
        blockquote {
            border-left: 4px solid #667eea;
            padding-left: 15px;
            margin-left: 0;
            color: #666;
            font-style: italic;
        }
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        li {
            margin-bottom: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        table th, table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        table th {
            background: #f8f9ff;
            font-weight: 600;
        }
        a {
            color: #667eea;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
<h1>全局配置</h1>
<h2>1. 检查 id_rsa.pub 文件在不在</h2>
<p>一般路径</p>
<ul>
<li>Windows: <code>C:\Users\{UserName}\.ssh\id_ed25519.pub</code></li>
<li>Linux: <code>~/.ssh/id_rsa.pub</code></li>
</ul>
<h2>2. 生成 key</h2>
<pre><code class="language-bash">ssh-keygen -t ed25519 -C &quot;xxx@xxx.com&quot;
</code></pre>
<p>生成后可以通过打印日志看到密钥文件所在位置。</p>
<h2>3. 到 github 处的 settings 配置密钥。</h2>
<p><a href="https://github.com/settings/profile">https://github.com/settings/profile</a></p>
<p>SSH and GPG keys 选项，New SSH key。</p>
<p>将 .ssh/id_ed25519.pub 文本内容拷贝到 Authentication keys 。</p>
<h1>单独一个仓库配置</h1>
<p>第一和第二个步骤与全局配置完全一样。</p>
<p>第三步骤的设置地址为：</p>
<p><a href="https://github.com/%7B%E7%94%A8%E6%88%B7%E5%90%8D%7D/%7B%E4%BB%93%E5%BA%93%E5%90%8D%7D/settings/keys">https://github.com/{用户名}/{仓库名}/settings/keys</a></p>
<p>选择 Add deploy key，添加密钥。</p>
<p><strong>注意：添加时要决定是否需要设置为可写，配置为是才有可写权限。</strong></p>
<h1>多个仓库的多个配置</h1>
<p>因为本地设备可能要单独设置多个 github 项目，因此需要这种更定制化的方案，方法如下。</p>
<h2>步骤1：生成 key。</h2>
<pre><code class="language-bash">ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot; -f {ssh主目录}/.ssh/id_ed25519_{project name}
</code></pre>
<h2>步骤2：编写 config 配置文件。</h2>
<p>在 <code>{ssh主目录}/.ssh/</code> 下，新建一个 config 文件（如果没有）。文件名为 <code>config</code> ，没有后缀。</p>
<p>这个文件是用来告诉 git，执行 git 仓库操作时应该读取哪个密钥文件。</p>
<p><code>config</code> 示例如下：</p>
<pre><code class="language-ini"># 默认的github配置，使用第一个密钥
Host github.com
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519

# 为特定仓库或另一个账户使用第二个密钥
# 这里我们创建一个别名 &quot;newproject&quot;
Host newproject
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519_newproject
</code></pre>
<p>那么，git clone 命令应该为：</p>
<p><strong>注意 github.com被改为了 newproject</strong></p>
<pre><code class="language-bash">git clone git@newproject:username/{仓库名}.git
</code></pre>
<h2>步骤3：到 github 配置 key</h2>
<p>地址： <a href="https://github.com/%7B%E7%94%A8%E6%88%B7%E5%90%8D%7D/%7B%E4%BB%93%E5%BA%93%E5%90%8D%7D/settings/keys">https://github.com/{用户名}/{仓库名}/settings/keys</a></p>
<p>选择 Add deploy key，添加密钥。</p>

</body>
</html>
